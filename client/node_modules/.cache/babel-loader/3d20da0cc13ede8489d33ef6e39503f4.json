{"ast":null,"code":"\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\n\n// wrap in UMD - see https://github.com/umdjs/umd/blob/master/jqueryPlugin.js\n// eslint-disable-next-line\nvar define;\nvar jQuery;\n(function (factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([\"jquery\"], function ($) {\n      factory($, window, document);\n    });\n  } else if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && module.exports) {\n    module.exports = factory(require(\"jquery\"), window, document);\n  } else {\n    factory(jQuery, window, document);\n  } // eslint-disable-next-line\n})(function ($, window, document, undefined) {\n  // eslint-disable-next-line\n  \"use strict\";\n\n  var pluginName = \"countrySelect\",\n    id = 1,\n    // give each instance its own ID for namespaced event handling\n    defaults = {\n      // Default country\n      defaultCountry: \"\",\n      // Position the selected flag inside or outside of the input\n      defaultStyling: \"inside\",\n      // don't display these countries\n      excludeCountries: [],\n      // Display only these countries\n      onlyCountries: [],\n      // The countries at the top of the list. Defaults to United States and United Kingdom\n      preferredCountries: [\"us\", \"gb\"],\n      // Set the dropdown's width to be the same as the input. This is automatically enabled for small screens.\n      responsiveDropdown: $(window).width() < 768 ? true : false\n    },\n    keys = {\n      UP: 38,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      BACKSPACE: 8,\n      PLUS: 43,\n      SPACE: 32,\n      A: 65,\n      Z: 90 // eslint-disable-next-line\n    },\n    windowLoaded = false; // keep track of if the window.load event has fired as impossible to check after the fact\n\n  $(window).on('load', function () {\n    windowLoaded = true;\n  });\n  function Plugin(element, options) {\n    this.element = element;\n    this.options = $.extend({}, defaults, options);\n    this._defaults = defaults; // event namespace\n\n    this.ns = \".\" + pluginName + id++;\n    this._name = pluginName;\n    this.init();\n  }\n  Plugin.prototype = {\n    init: function init() {\n      // Process all the data: onlyCountries, excludeCountries, preferredCountries, defaultCountry etc\n      this._processCountryData(); // Generate the markup\n\n      this._generateMarkup(); // Set the initial state of the input value and the selected flag\n\n      this._setInitialState(); // Start all of the event listeners: input keyup, selectedFlag click\n\n      this._initListeners(); // Return this when the auto country is resolved.\n\n      this.autoCountryDeferred = new $.Deferred(); // Get auto country.\n\n      this._initAutoCountry(); // Keep track as the user types\n\n      this.typedLetters = \"\";\n      return this.autoCountryDeferred;\n    },\n    /********************\n     *  PRIVATE METHODS\n     ********************/\n    // prepare all of the country data, including onlyCountries, excludeCountries, preferredCountries and\n    // defaultCountry options\n    _processCountryData: function _processCountryData() {\n      // set the instances country data objects\n      this._setInstanceCountryData(); // set the preferredCountries property\n\n      this._setPreferredCountries();\n    },\n    // process onlyCountries array if present\n    _setInstanceCountryData: function _setInstanceCountryData() {\n      var that = this;\n      if (this.options.onlyCountries.length) {\n        var newCountries = [];\n        $.each(this.options.onlyCountries, function (i, countryCode) {\n          var countryData = that._getCountryData(countryCode, true);\n          if (countryData) {\n            newCountries.push(countryData);\n          }\n        });\n        this.countries = newCountries;\n      } else if (this.options.excludeCountries.length) {\n        var lowerCaseExcludeCountries = this.options.excludeCountries.map(function (country) {\n          return country.toLowerCase();\n        });\n        this.countries = allCountries.filter(function (country) {\n          return lowerCaseExcludeCountries.indexOf(country.iso2) === -1;\n        });\n      } else {\n        this.countries = allCountries;\n      }\n    },\n    // Process preferred countries - iterate through the preferences,\n    // fetching the country data for each one\n    _setPreferredCountries: function _setPreferredCountries() {\n      var that = this;\n      this.preferredCountries = [];\n      $.each(this.options.preferredCountries, function (i, countryCode) {\n        var countryData = that._getCountryData(countryCode, false);\n        if (countryData) {\n          that.preferredCountries.push(countryData);\n        }\n      });\n    },\n    // generate all of the markup for the plugin: the selected flag overlay, and the dropdown\n    _generateMarkup: function _generateMarkup() {\n      // Country input\n      this.countryInput = $(this.element); // containers (mostly for positioning)\n\n      var mainClass = \"country-select\";\n      if (this.options.defaultStyling) {\n        mainClass += \" \" + this.options.defaultStyling;\n      }\n      this.countryInput.wrap($(\"<div>\", {\n        \"class\": mainClass\n      }));\n      var flagsContainer = $(\"<div>\", {\n        \"class\": \"flag-dropdown\"\n      }).insertAfter(this.countryInput); // currently selected flag (displayed to left of input)\n\n      var selectedFlag = $(\"<div>\", {\n        \"class\": \"selected-flag\"\n      }).appendTo(flagsContainer);\n      this.selectedFlagInner = $(\"<div>\", {\n        \"class\": \"flag\"\n      }).appendTo(selectedFlag); // CSS triangle\n\n      $(\"<div>\", {\n        \"class\": \"arrow\"\n      }).appendTo(selectedFlag); // country list contains: preferred countries, then divider, then all countries\n\n      this.countryList = $(\"<ul>\", {\n        \"class\": \"country-list v-hide\"\n      }).appendTo(flagsContainer);\n      if (this.preferredCountries.length) {\n        this._appendListItems(this.preferredCountries, \"preferred\");\n        $(\"<li>\", {\n          \"class\": \"divider\"\n        }).appendTo(this.countryList);\n      }\n      this._appendListItems(this.countries, \"\"); // Add the hidden input for the country code\n\n      this.countryCodeInput = $(\"#\" + this.countryInput.attr(\"id\") + \"_code\");\n      if (!this.countryCodeInput) {\n        this.countryCodeInput = $('<input type=\"hidden\" id=\"' + this.countryInput.attr(\"id\") + '_code\" name=\"' + this.countryInput.attr(\"name\") + '_code\" value=\"\" />');\n        this.countryCodeInput.insertAfter(this.countryInput);\n      } // now we can grab the dropdown height, and hide it properly\n\n      this.dropdownHeight = this.countryList.outerHeight(); // set the dropdown width according to the input if responsiveDropdown option is present or if it's a small screen\n\n      if (this.options.responsiveDropdown) {\n        $(window).resize(function () {\n          $('.country-select').each(function () {\n            var dropdownWidth = this.offsetWidth;\n            $(this).find('.country-list').css(\"width\", dropdownWidth + \"px\");\n          });\n        }).resize();\n      }\n      this.countryList.removeClass(\"v-hide\").addClass(\"hide\"); // this is useful in lots of places\n\n      this.countryListItems = this.countryList.children(\".country\");\n    },\n    // add a country <li> to the countryList <ul> container\n    _appendListItems: function _appendListItems(countries, className) {\n      // Generate DOM elements as a large temp string, so that there is only\n      // one DOM insert event\n      var tmp = \"\"; // for each country\n\n      $.each(countries, function (i, c) {\n        // open the list item\n        tmp += '<li class=\"country ' + className + '\" data-country-code=\"' + c.iso2 + '\">'; // add the flag\n\n        tmp += '<div class=\"flag ' + c.iso2 + '\"></div>'; // and the country name\n\n        tmp += '<span class=\"country-name\">' + c.name + '</span>'; // close the list item\n\n        tmp += '</li>';\n      });\n      this.countryList.append(tmp);\n    },\n    // set the initial state of the input value and the selected flag\n    _setInitialState: function _setInitialState() {\n      var flagIsSet = false; // If the input is pre-populated, then just update the selected flag\n\n      if (this.countryInput.val()) {\n        flagIsSet = this._updateFlagFromInputVal();\n      } // If the country code input is pre-populated, update the name and the selected flag\n\n      var selectedCode = this.countryCodeInput.val();\n      if (selectedCode) {\n        this.selectCountry(selectedCode);\n      }\n      if (!flagIsSet) {\n        // flag is not set, so set to the default country\n        var defaultCountry; // check the defaultCountry option, else fall back to the first in the list\n\n        if (this.options.defaultCountry) {\n          defaultCountry = this._getCountryData(this.options.defaultCountry, false); // Did we not find the requested default country?\n\n          if (!defaultCountry) {\n            defaultCountry = this.preferredCountries.length ? this.preferredCountries[0] : this.countries[0];\n          }\n        } else {\n          defaultCountry = this.preferredCountries.length ? this.preferredCountries[0] : this.countries[0];\n        }\n        this.defaultCountry = defaultCountry.iso2;\n      }\n    },\n    // initialise the main event listeners: input keyup, and click selected flag\n    _initListeners: function _initListeners() {\n      var that = this; // Update flag on keyup.\n      // Use keyup instead of keypress because we want to update on backspace\n      // and instead of keydown because the value hasn't updated when that\n      // event is fired.\n      // NOTE: better to have this one listener all the time instead of\n      // starting it on focus and stopping it on blur, because then you've\n      // got two listeners (focus and blur)\n\n      this.countryInput.on(\"keyup\" + this.ns, function () {\n        that._updateFlagFromInputVal();\n      }); // toggle country dropdown on click\n\n      var selectedFlag = this.selectedFlagInner.parent();\n      selectedFlag.on(\"click\" + this.ns, function (e) {\n        // only intercept this event if we're opening the dropdown\n        // else let it bubble up to the top (\"click-off-to-close\" listener)\n        // we cannot just stopPropagation as it may be needed to close another instance\n        if (that.countryList.hasClass(\"hide\") && !that.countryInput.prop(\"disabled\")) {\n          that._showDropdown();\n        }\n      }); // Despite above note, added blur to ensure partially spelled country\n      // with correctly chosen flag is spelled out on blur. Also, correctly\n      // selects flag when field is autofilled\n\n      this.countryInput.on(\"blur\" + this.ns, function () {\n        // eslint-disable-next-line\n        if (that.countryInput.val() != that.getSelectedCountryData().name) {\n          that.setCountry(that.countryInput.val());\n        }\n        that.countryInput.val(that.getSelectedCountryData().name);\n      });\n    },\n    _initAutoCountry: function _initAutoCountry() {\n      if (this.options.initialCountry === \"auto\") {\n        this._loadAutoCountry();\n      } else {\n        if (this.defaultCountry) {\n          this.selectCountry(this.defaultCountry);\n        }\n        this.autoCountryDeferred.resolve();\n      }\n    },\n    // perform the geo ip lookup\n    _loadAutoCountry: function _loadAutoCountry() {\n      // eslint-disable-next-line\n      var that = this; // 3 options:\n      // 1) already loaded (we're done)\n      // 2) not already started loading (start)\n      // 3) already started loading (do nothing - just wait for loading callback to fire)\n\n      if ($.fn[pluginName].autoCountry) {\n        this.handleAutoCountry();\n      } else if (!$.fn[pluginName].startedLoadingAutoCountry) {\n        // don't do this twice!\n        $.fn[pluginName].startedLoadingAutoCountry = true;\n        if (typeof this.options.geoIpLookup === 'function') {\n          this.options.geoIpLookup(function (countryCode) {\n            $.fn[pluginName].autoCountry = countryCode.toLowerCase(); // tell all instances the auto country is ready\n            // TODO: this should just be the current instances\n            // UPDATE: use setTimeout in case their geoIpLookup function calls this callback straight away (e.g. if they have already done the geo ip lookup somewhere else). Using setTimeout means that the current thread of execution will finish before executing this, which allows the plugin to finish initialising.\n\n            setTimeout(function () {\n              $(\".country-select input\").countrySelect(\"handleAutoCountry\");\n            });\n          });\n        }\n      }\n    },\n    // Focus input and put the cursor at the end\n    _focus: function _focus() {\n      this.countryInput.focus();\n      var input = this.countryInput[0]; // works for Chrome, FF, Safari, IE9+\n\n      if (input.setSelectionRange) {\n        var len = this.countryInput.val().length;\n        input.setSelectionRange(len, len);\n      }\n    },\n    // Show the dropdown\n    _showDropdown: function _showDropdown() {\n      this._setDropdownPosition(); // update highlighting and scroll to active list item\n\n      var activeListItem = this.countryList.children(\".active\");\n      this._highlightListItem(activeListItem); // show it\n\n      this.countryList.removeClass(\"hide\");\n      this._scrollTo(activeListItem); // bind all the dropdown-related listeners: mouseover, click, click-off, keydown\n\n      this._bindDropdownListeners(); // update the arrow\n\n      this.selectedFlagInner.parent().children(\".arrow\").addClass(\"up\");\n    },\n    // decide where to position dropdown (depends on position within viewport, and scroll)\n    _setDropdownPosition: function _setDropdownPosition() {\n      var inputTop = this.countryInput.offset().top,\n        windowTop = $(window).scrollTop(),\n        dropdownFitsBelow = inputTop + this.countryInput.outerHeight() + this.dropdownHeight < windowTop + $(window).height(),\n        dropdownFitsAbove = inputTop - this.dropdownHeight > windowTop; // dropdownHeight - 1 for border\n\n      var cssTop = !dropdownFitsBelow && dropdownFitsAbove ? \"-\" + (this.dropdownHeight - 1) + \"px\" : \"\";\n      this.countryList.css(\"top\", cssTop);\n    },\n    // we only bind dropdown listeners when the dropdown is open\n    _bindDropdownListeners: function _bindDropdownListeners() {\n      var that = this; // when mouse over a list item, just highlight that one\n      // we add the class \"highlight\", so if they hit \"enter\" we know which one to select\n\n      this.countryList.on(\"mouseover\" + this.ns, \".country\", function (e) {\n        that._highlightListItem($(this));\n      }); // listen for country selection\n\n      this.countryList.on(\"click\" + this.ns, \".country\", function (e) {\n        that._selectListItem($(this));\n      }); // click off to close\n      // (except when this initial opening click is bubbling up)\n      // we cannot just stopPropagation as it may be needed to close another instance\n\n      var isOpening = true;\n      $(\"html\").on(\"click\" + this.ns, function (e) {\n        e.preventDefault();\n        if (!isOpening) {\n          that._closeDropdown();\n        }\n        isOpening = false;\n      }); // Listen for up/down scrolling, enter to select, or letters to jump to country name.\n      // Use keydown as keypress doesn't fire for non-char keys and we want to catch if they\n      // just hit down and hold it to scroll down (no keyup event).\n      // Listen on the document because that's where key events are triggered if no input has focus\n\n      $(document).on(\"keydown\" + this.ns, function (e) {\n        // prevent down key from scrolling the whole page,\n        // and enter key from submitting a form etc\n        e.preventDefault(); // eslint-disable-next-line\n\n        if (e.which == keys.UP || e.which == keys.DOWN) {\n          // up and down to navigate\n          that._handleUpDownKey(e.which); // eslint-disable-next-line\n        } else if (e.which == keys.ENTER) {\n          // enter to select\n          that._handleEnterKey(); // eslint-disable-next-line\n        } else if (e.which == keys.ESC) {\n          // esc to close\n          that._closeDropdown(); // eslint-disable-next-line\n        } else if (e.which >= keys.A && e.which <= keys.Z || e.which === keys.SPACE) {\n          that.typedLetters += String.fromCharCode(e.which);\n          that._filterCountries(that.typedLetters);\n        } else if (e.which === keys.BACKSPACE) {\n          that.typedLetters = that.typedLetters.slice(0, -1);\n          that._filterCountries(that.typedLetters);\n        }\n      });\n    },\n    // Highlight the next/prev item in the list (and ensure it is visible)\n    _handleUpDownKey: function _handleUpDownKey(key) {\n      var current = this.countryList.children(\".highlight\").first(); // eslint-disable-next-line\n\n      var next = key == keys.UP ? current.prev() : current.next();\n      if (next.length) {\n        // skip the divider\n        if (next.hasClass(\"divider\")) {\n          // eslint-disable-next-line\n          next = key == keys.UP ? next.prev() : next.next();\n        }\n        this._highlightListItem(next);\n        this._scrollTo(next);\n      }\n    },\n    // select the currently highlighted item\n    _handleEnterKey: function _handleEnterKey() {\n      var currentCountry = this.countryList.children(\".highlight\").first();\n      if (currentCountry.length) {\n        this._selectListItem(currentCountry);\n      }\n    },\n    _filterCountries: function _filterCountries(letters) {\n      var countries = this.countryListItems.filter(function () {\n        return $(this).text().toUpperCase().indexOf(letters) === 0 && !$(this).hasClass(\"preferred\");\n      });\n      if (countries.length) {\n        // if one is already highlighted, then we want the next one\n        var highlightedCountry = countries.filter(\".highlight\").first(),\n          listItem;\n        if (highlightedCountry && highlightedCountry.next() && highlightedCountry.next().text().toUpperCase().indexOf(letters) === 0) {\n          listItem = highlightedCountry.next();\n        } else {\n          listItem = countries.first();\n        } // update highlighting and scroll\n\n        this._highlightListItem(listItem);\n        this._scrollTo(listItem);\n      }\n    },\n    // Update the selected flag using the input's current value\n    _updateFlagFromInputVal: function _updateFlagFromInputVal() {\n      var that = this; // try and extract valid country from input\n\n      var value = this.countryInput.val().replace(/(?=[() ])/g, '\\\\');\n      if (value) {\n        var countryCodes = [];\n        var matcher = new RegExp(\"^\" + value, \"i\");\n        for (var i = 0; i < this.countries.length; i++) {\n          if (this.countries[i].name.match(matcher)) {\n            countryCodes.push(this.countries[i].iso2);\n          }\n        } // Check if one of the matching countries is already selected\n\n        var alreadySelected = false;\n        $.each(countryCodes, function (i, c) {\n          if (that.selectedFlagInner.hasClass(c)) {\n            alreadySelected = true;\n          }\n        });\n        if (!alreadySelected) {\n          this._selectFlag(countryCodes[0]);\n          this.countryCodeInput.val(countryCodes[0]).trigger(\"change\");\n        } // Matching country found\n\n        return true;\n      } // No match found\n\n      return false;\n    },\n    // remove highlighting from other list items and highlight the given item\n    _highlightListItem: function _highlightListItem(listItem) {\n      this.countryListItems.removeClass(\"highlight\");\n      listItem.addClass(\"highlight\");\n    },\n    // find the country data for the given country code\n    // the ignoreOnlyCountriesOption is only used during init() while parsing the onlyCountries array\n    _getCountryData: function _getCountryData(countryCode, ignoreOnlyCountriesOption) {\n      var countryList = ignoreOnlyCountriesOption ? allCountries : this.countries;\n      for (var i = 0; i < countryList.length; i++) {\n        // eslint-disable-next-line\n        if (countryList[i].iso2 == countryCode) {\n          return countryList[i];\n        }\n      }\n      return null;\n    },\n    // update the selected flag and the active list item\n    _selectFlag: function _selectFlag(countryCode) {\n      if (!countryCode) {\n        return false;\n      }\n      this.selectedFlagInner.attr(\"class\", \"flag \" + countryCode); // update the title attribute\n\n      var countryData = this._getCountryData(countryCode);\n      this.selectedFlagInner.parent().attr(\"title\", countryData.name); // update the active list item\n\n      var listItem = this.countryListItems.children(\".flag.\" + countryCode).first().parent();\n      this.countryListItems.removeClass(\"active\");\n      listItem.addClass(\"active\");\n    },\n    // called when the user selects a list item from the dropdown\n    _selectListItem: function _selectListItem(listItem) {\n      // update selected flag and active list item\n      var countryCode = listItem.attr(\"data-country-code\");\n      this._selectFlag(countryCode);\n      this._closeDropdown(); // update input value\n\n      this._updateName(countryCode);\n      this.countryInput.trigger(\"change\");\n      this.countryCodeInput.trigger(\"change\"); // focus the input\n\n      this._focus();\n    },\n    // close the dropdown and unbind any listeners\n    _closeDropdown: function _closeDropdown() {\n      this.countryList.addClass(\"hide\"); // update the arrow\n\n      this.selectedFlagInner.parent().children(\".arrow\").removeClass(\"up\"); // unbind event listeners\n\n      $(document).off(\"keydown\" + this.ns);\n      $(\"html\").off(\"click\" + this.ns); // unbind both hover and click listeners\n\n      this.countryList.off(this.ns);\n      this.typedLetters = \"\";\n    },\n    // check if an element is visible within its container, else scroll until it is\n    _scrollTo: function _scrollTo(element) {\n      if (!element || !element.offset()) {\n        return;\n      }\n      var container = this.countryList,\n        containerHeight = container.height(),\n        containerTop = container.offset().top,\n        containerBottom = containerTop + containerHeight,\n        elementHeight = element.outerHeight(),\n        elementTop = element.offset().top,\n        elementBottom = elementTop + elementHeight,\n        newScrollTop = elementTop - containerTop + container.scrollTop();\n      if (elementTop < containerTop) {\n        // scroll up\n        container.scrollTop(newScrollTop);\n      } else if (elementBottom > containerBottom) {\n        // scroll down\n        var heightDifference = containerHeight - elementHeight;\n        container.scrollTop(newScrollTop - heightDifference);\n      }\n    },\n    // Replace any existing country name with the new one\n    _updateName: function _updateName(countryCode) {\n      this.countryCodeInput.val(countryCode).trigger(\"change\");\n      this.countryInput.val(this._getCountryData(countryCode).name);\n    },\n    /********************\n     *  PUBLIC METHODS\n     ********************/\n    // this is called when the geoip call returns\n    handleAutoCountry: function handleAutoCountry() {\n      if (this.options.initialCountry === \"auto\") {\n        // we must set this even if there is an initial val in the input: in case the initial val is invalid and they delete it - they should see their auto country\n        this.defaultCountry = $.fn[pluginName].autoCountry; // if there's no initial value in the input, then update the flag\n\n        if (!this.countryInput.val()) {\n          this.selectCountry(this.defaultCountry);\n        }\n        this.autoCountryDeferred.resolve();\n      }\n    },\n    // get the country data for the currently selected flag\n    getSelectedCountryData: function getSelectedCountryData() {\n      // rely on the fact that we only set 2 classes on the selected flag element:\n      // the first is \"flag\" and the second is the 2-char country code\n      var countryCode = this.selectedFlagInner.attr(\"class\").split(\" \")[1];\n      return this._getCountryData(countryCode);\n    },\n    // update the selected flag\n    selectCountry: function selectCountry(countryCode) {\n      countryCode = countryCode.toLowerCase(); // check if already selected\n\n      if (!this.selectedFlagInner.hasClass(countryCode)) {\n        this._selectFlag(countryCode);\n        this._updateName(countryCode);\n      }\n    },\n    // set the input value and update the flag\n    setCountry: function setCountry(country) {\n      this.countryInput.val(country);\n      this._updateFlagFromInputVal();\n    },\n    // remove plugin\n    destroy: function destroy() {\n      // stop listeners\n      this.countryInput.off(this.ns);\n      this.selectedFlagInner.parent().off(this.ns); // remove markup\n\n      var container = this.countryInput.parent();\n      container.before(this.countryInput).remove();\n    }\n  }; // adapted to allow public functions\n  // using https://github.com/jquery-boilerplate/jquery-boilerplate/wiki/Extending-jQuery-Boilerplate\n\n  $.fn[pluginName] = function (options) {\n    var args = arguments; // Is the first parameter an object (options), or was omitted,\n    // instantiate a new instance of the plugin.\n\n    if (options === undefined || _typeof(options) === \"object\") {\n      return this.each(function () {\n        if (!$.data(this, \"plugin_\" + pluginName)) {\n          $.data(this, \"plugin_\" + pluginName, new Plugin(this, options));\n        }\n      });\n    } else if (typeof options === \"string\" && options[0] !== \"_\" && options !== \"init\") {\n      // If the first parameter is a string and it doesn't start\n      // with an underscore or \"contains\" the `init`-function,\n      // treat this as a call to a public method.\n      // Cache the method call to make it possible to return a value\n      var returns;\n      this.each(function () {\n        var instance = $.data(this, \"plugin_\" + pluginName); // Tests that there's already a plugin-instance\n        // and checks that the requested public method exists\n\n        if (instance instanceof Plugin && typeof instance[options] === \"function\") {\n          // Call the method of our plugin instance,\n          // and pass it the supplied arguments.\n          returns = instance[options].apply(instance, Array.prototype.slice.call(args, 1));\n        } // Allow instances to be destroyed via the 'destroy' method\n\n        if (options === \"destroy\") {\n          $.data(this, \"plugin_\" + pluginName, null);\n        }\n      }); // If the earlier cached method gives a value back return the value,\n      // otherwise return this to preserve chainability.\n\n      return returns !== undefined ? returns : this;\n    }\n  };\n  /********************\n    *  STATIC METHODS\n    ********************/\n  // get the country data object\n\n  $.fn[pluginName].getCountryData = function () {\n    return allCountries;\n  }; // set the country data object\n\n  $.fn[pluginName].setCountryData = function (obj) {\n    allCountries = obj;\n  }; // Tell JSHint to ignore this warning: \"character may get silently deleted by one or more browsers\"\n  // jshint -W100\n  // Array of country objects for the flag dropdown.\n  // Each contains a name and country code (ISO 3166-1 alpha-2).\n  //\n  // Note: using single char property names to keep filesize down\n  // n = name\n  // i = iso2 (2-char country code)\n\n  var allCountries = $.each([{\n    n: \"Afghanistan (‫افغانستان‬‎)\",\n    i: \"af\"\n  }, {\n    n: \"Åland Islands (Åland)\",\n    i: \"ax\"\n  }, {\n    n: \"Albania (Shqipëri)\",\n    i: \"al\"\n  }, {\n    n: \"Algeria (‫الجزائر‬‎)\",\n    i: \"dz\"\n  }, {\n    n: \"American Samoa\",\n    i: \"as\"\n  }, {\n    n: \"Andorra\",\n    i: \"ad\"\n  }, {\n    n: \"Angola\",\n    i: \"ao\"\n  }, {\n    n: \"Anguilla\",\n    i: \"ai\"\n  }, {\n    n: \"Antigua and Barbuda\",\n    i: \"ag\"\n  }, {\n    n: \"Argentina\",\n    i: \"ar\"\n  }, {\n    n: \"Armenia (Հայաստան)\",\n    i: \"am\"\n  }, {\n    n: \"Aruba\",\n    i: \"aw\"\n  }, {\n    n: \"Australia\",\n    i: \"au\"\n  }, {\n    n: \"Austria (Österreich)\",\n    i: \"at\"\n  }, {\n    n: \"Azerbaijan (Azərbaycan)\",\n    i: \"az\"\n  }, {\n    n: \"Bahamas\",\n    i: \"bs\"\n  }, {\n    n: \"Bahrain (‫البحرين‬‎)\",\n    i: \"bh\"\n  }, {\n    n: \"Bangladesh (বাংলাদেশ)\",\n    i: \"bd\"\n  }, {\n    n: \"Barbados\",\n    i: \"bb\"\n  }, {\n    n: \"Belarus (Беларусь)\",\n    i: \"by\"\n  }, {\n    n: \"Belgium (België)\",\n    i: \"be\"\n  }, {\n    n: \"Belize\",\n    i: \"bz\"\n  }, {\n    n: \"Benin (Bénin)\",\n    i: \"bj\"\n  }, {\n    n: \"Bermuda\",\n    i: \"bm\"\n  }, {\n    n: \"Bhutan (འབྲུག)\",\n    i: \"bt\"\n  }, {\n    n: \"Bolivia\",\n    i: \"bo\"\n  }, {\n    n: \"Bosnia and Herzegovina (Босна и Херцеговина)\",\n    i: \"ba\"\n  }, {\n    n: \"Botswana\",\n    i: \"bw\"\n  }, {\n    n: \"Brazil (Brasil)\",\n    i: \"br\"\n  }, {\n    n: \"British Indian Ocean Territory\",\n    i: \"io\"\n  }, {\n    n: \"British Virgin Islands\",\n    i: \"vg\"\n  }, {\n    n: \"Brunei\",\n    i: \"bn\"\n  }, {\n    n: \"Bulgaria (България)\",\n    i: \"bg\"\n  }, {\n    n: \"Burkina Faso\",\n    i: \"bf\"\n  }, {\n    n: \"Burundi (Uburundi)\",\n    i: \"bi\"\n  }, {\n    n: \"Cambodia (កម្ពុជា)\",\n    i: \"kh\"\n  }, {\n    n: \"Cameroon (Cameroun)\",\n    i: \"cm\"\n  }, {\n    n: \"Canada\",\n    i: \"ca\"\n  }, {\n    n: \"Cape Verde (Kabu Verdi)\",\n    i: \"cv\"\n  }, {\n    n: \"Caribbean Netherlands\",\n    i: \"bq\"\n  }, {\n    n: \"Cayman Islands\",\n    i: \"ky\"\n  }, {\n    n: \"Central African Republic (République Centrafricaine)\",\n    i: \"cf\"\n  }, {\n    n: \"Chad (Tchad)\",\n    i: \"td\"\n  }, {\n    n: \"Chile\",\n    i: \"cl\"\n  }, {\n    n: \"China (中国)\",\n    i: \"cn\"\n  }, {\n    n: \"Christmas Island\",\n    i: \"cx\"\n  }, {\n    n: \"Cocos (Keeling) Islands (Kepulauan Cocos (Keeling))\",\n    i: \"cc\"\n  }, {\n    n: \"Colombia\",\n    i: \"co\"\n  }, {\n    n: \"Comoros (‫جزر القمر‬‎)\",\n    i: \"km\"\n  }, {\n    n: \"Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)\",\n    i: \"cd\"\n  }, {\n    n: \"Congo (Republic) (Congo-Brazzaville)\",\n    i: \"cg\"\n  }, {\n    n: \"Cook Islands\",\n    i: \"ck\"\n  }, {\n    n: \"Costa Rica\",\n    i: \"cr\"\n  }, {\n    n: \"Côte d’Ivoire\",\n    i: \"ci\"\n  }, {\n    n: \"Croatia (Hrvatska)\",\n    i: \"hr\"\n  }, {\n    n: \"Cuba\",\n    i: \"cu\"\n  }, {\n    n: \"Curaçao\",\n    i: \"cw\"\n  }, {\n    n: \"Cyprus (Κύπρος)\",\n    i: \"cy\"\n  }, {\n    n: \"Czech Republic (Česká republika)\",\n    i: \"cz\"\n  }, {\n    n: \"Denmark (Danmark)\",\n    i: \"dk\"\n  }, {\n    n: \"Djibouti\",\n    i: \"dj\"\n  }, {\n    n: \"Dominica\",\n    i: \"dm\"\n  }, {\n    n: \"Dominican Republic (República Dominicana)\",\n    i: \"do\"\n  }, {\n    n: \"Ecuador\",\n    i: \"ec\"\n  }, {\n    n: \"Egypt (‫مصر‬‎)\",\n    i: \"eg\"\n  }, {\n    n: \"El Salvador\",\n    i: \"sv\"\n  }, {\n    n: \"Equatorial Guinea (Guinea Ecuatorial)\",\n    i: \"gq\"\n  }, {\n    n: \"Eritrea\",\n    i: \"er\"\n  }, {\n    n: \"Estonia (Eesti)\",\n    i: \"ee\"\n  }, {\n    n: \"Ethiopia\",\n    i: \"et\"\n  }, {\n    n: \"Falkland Islands (Islas Malvinas)\",\n    i: \"fk\"\n  }, {\n    n: \"Faroe Islands (Føroyar)\",\n    i: \"fo\"\n  }, {\n    n: \"Fiji\",\n    i: \"fj\"\n  }, {\n    n: \"Finland (Suomi)\",\n    i: \"fi\"\n  }, {\n    n: \"France\",\n    i: \"fr\"\n  }, {\n    n: \"French Guiana (Guyane française)\",\n    i: \"gf\"\n  }, {\n    n: \"French Polynesia (Polynésie française)\",\n    i: \"pf\"\n  }, {\n    n: \"Gabon\",\n    i: \"ga\"\n  }, {\n    n: \"Gambia\",\n    i: \"gm\"\n  }, {\n    n: \"Georgia (საქართველო)\",\n    i: \"ge\"\n  }, {\n    n: \"Germany (Deutschland)\",\n    i: \"de\"\n  }, {\n    n: \"Ghana (Gaana)\",\n    i: \"gh\"\n  }, {\n    n: \"Gibraltar\",\n    i: \"gi\"\n  }, {\n    n: \"Greece (Ελλάδα)\",\n    i: \"gr\"\n  }, {\n    n: \"Greenland (Kalaallit Nunaat)\",\n    i: \"gl\"\n  }, {\n    n: \"Grenada\",\n    i: \"gd\"\n  }, {\n    n: \"Guadeloupe\",\n    i: \"gp\"\n  }, {\n    n: \"Guam\",\n    i: \"gu\"\n  }, {\n    n: \"Guatemala\",\n    i: \"gt\"\n  }, {\n    n: \"Guernsey\",\n    i: \"gg\"\n  }, {\n    n: \"Guinea (Guinée)\",\n    i: \"gn\"\n  }, {\n    n: \"Guinea-Bissau (Guiné Bissau)\",\n    i: \"gw\"\n  }, {\n    n: \"Guyana\",\n    i: \"gy\"\n  }, {\n    n: \"Haiti\",\n    i: \"ht\"\n  }, {\n    n: \"Honduras\",\n    i: \"hn\"\n  }, {\n    n: \"Hong Kong (香港)\",\n    i: \"hk\"\n  }, {\n    n: \"Hungary (Magyarország)\",\n    i: \"hu\"\n  }, {\n    n: \"Iceland (Ísland)\",\n    i: \"is\"\n  }, {\n    n: \"India (भारत)\",\n    i: \"in\"\n  }, {\n    n: \"Indonesia\",\n    i: \"id\"\n  }, {\n    n: \"Iran (‫ایران‬‎)\",\n    i: \"ir\"\n  }, {\n    n: \"Iraq (‫العراق‬‎)\",\n    i: \"iq\"\n  }, {\n    n: \"Ireland\",\n    i: \"ie\"\n  }, {\n    n: \"Isle of Man\",\n    i: \"im\"\n  }, {\n    n: \"Israel (‫ישראל‬‎)\",\n    i: \"il\"\n  }, {\n    n: \"Italy (Italia)\",\n    i: \"it\"\n  }, {\n    n: \"Jamaica\",\n    i: \"jm\"\n  }, {\n    n: \"Japan (日本)\",\n    i: \"jp\"\n  }, {\n    n: \"Jersey\",\n    i: \"je\"\n  }, {\n    n: \"Jordan (‫الأردن‬‎)\",\n    i: \"jo\"\n  }, {\n    n: \"Kazakhstan (Казахстан)\",\n    i: \"kz\"\n  }, {\n    n: \"Kenya\",\n    i: \"ke\"\n  }, {\n    n: \"Kiribati\",\n    i: \"ki\"\n  }, {\n    n: \"Kosovo (Kosovë)\",\n    i: \"xk\"\n  }, {\n    n: \"Kuwait (‫الكويت‬‎)\",\n    i: \"kw\"\n  }, {\n    n: \"Kyrgyzstan (Кыргызстан)\",\n    i: \"kg\"\n  }, {\n    n: \"Laos (ລາວ)\",\n    i: \"la\"\n  }, {\n    n: \"Latvia (Latvija)\",\n    i: \"lv\"\n  }, {\n    n: \"Lebanon (‫لبنان‬‎)\",\n    i: \"lb\"\n  }, {\n    n: \"Lesotho\",\n    i: \"ls\"\n  }, {\n    n: \"Liberia\",\n    i: \"lr\"\n  }, {\n    n: \"Libya (‫ليبيا‬‎)\",\n    i: \"ly\"\n  }, {\n    n: \"Liechtenstein\",\n    i: \"li\"\n  }, {\n    n: \"Lithuania (Lietuva)\",\n    i: \"lt\"\n  }, {\n    n: \"Luxembourg\",\n    i: \"lu\"\n  }, {\n    n: \"Macau (澳門)\",\n    i: \"mo\"\n  }, {\n    n: \"Macedonia (FYROM) (Македонија)\",\n    i: \"mk\"\n  }, {\n    n: \"Madagascar (Madagasikara)\",\n    i: \"mg\"\n  }, {\n    n: \"Malawi\",\n    i: \"mw\"\n  }, {\n    n: \"Malaysia\",\n    i: \"my\"\n  }, {\n    n: \"Maldives\",\n    i: \"mv\"\n  }, {\n    n: \"Mali\",\n    i: \"ml\"\n  }, {\n    n: \"Malta\",\n    i: \"mt\"\n  }, {\n    n: \"Marshall Islands\",\n    i: \"mh\"\n  }, {\n    n: \"Martinique\",\n    i: \"mq\"\n  }, {\n    n: \"Mauritania (‫موريتانيا‬‎)\",\n    i: \"mr\"\n  }, {\n    n: \"Mauritius (Moris)\",\n    i: \"mu\"\n  }, {\n    n: \"Mayotte\",\n    i: \"yt\"\n  }, {\n    n: \"Mexico (México)\",\n    i: \"mx\"\n  }, {\n    n: \"Micronesia\",\n    i: \"fm\"\n  }, {\n    n: \"Moldova (Republica Moldova)\",\n    i: \"md\"\n  }, {\n    n: \"Monaco\",\n    i: \"mc\"\n  }, {\n    n: \"Mongolia (Монгол)\",\n    i: \"mn\"\n  }, {\n    n: \"Montenegro (Crna Gora)\",\n    i: \"me\"\n  }, {\n    n: \"Montserrat\",\n    i: \"ms\"\n  }, {\n    n: \"Morocco (‫المغرب‬‎)\",\n    i: \"ma\"\n  }, {\n    n: \"Mozambique (Moçambique)\",\n    i: \"mz\"\n  }, {\n    n: \"Myanmar (Burma) (မြန်မာ)\",\n    i: \"mm\"\n  }, {\n    n: \"Namibia (Namibië)\",\n    i: \"na\"\n  }, {\n    n: \"Nauru\",\n    i: \"nr\"\n  }, {\n    n: \"Nepal (नेपाल)\",\n    i: \"np\"\n  }, {\n    n: \"Netherlands (Nederland)\",\n    i: \"nl\"\n  }, {\n    n: \"New Caledonia (Nouvelle-Calédonie)\",\n    i: \"nc\"\n  }, {\n    n: \"New Zealand\",\n    i: \"nz\"\n  }, {\n    n: \"Nicaragua\",\n    i: \"ni\"\n  }, {\n    n: \"Niger (Nijar)\",\n    i: \"ne\"\n  }, {\n    n: \"Nigeria\",\n    i: \"ng\"\n  }, {\n    n: \"Niue\",\n    i: \"nu\"\n  }, {\n    n: \"Norfolk Island\",\n    i: \"nf\"\n  }, {\n    n: \"North Korea (조선 민주주의 인민 공화국)\",\n    i: \"kp\"\n  }, {\n    n: \"Northern Mariana Islands\",\n    i: \"mp\"\n  }, {\n    n: \"Norway (Norge)\",\n    i: \"no\"\n  }, {\n    n: \"Oman (‫عُمان‬‎)\",\n    i: \"om\"\n  }, {\n    n: \"Pakistan (‫پاکستان‬‎)\",\n    i: \"pk\"\n  }, {\n    n: \"Palau\",\n    i: \"pw\"\n  }, {\n    n: \"Palestine (‫فلسطين‬‎)\",\n    i: \"ps\"\n  }, {\n    n: \"Panama (Panamá)\",\n    i: \"pa\"\n  }, {\n    n: \"Papua New Guinea\",\n    i: \"pg\"\n  }, {\n    n: \"Paraguay\",\n    i: \"py\"\n  }, {\n    n: \"Peru (Perú)\",\n    i: \"pe\"\n  }, {\n    n: \"Philippines\",\n    i: \"ph\"\n  }, {\n    n: \"Pitcairn Islands\",\n    i: \"pn\"\n  }, {\n    n: \"Poland (Polska)\",\n    i: \"pl\"\n  }, {\n    n: \"Portugal\",\n    i: \"pt\"\n  }, {\n    n: \"Puerto Rico\",\n    i: \"pr\"\n  }, {\n    n: \"Qatar (‫قطر‬‎)\",\n    i: \"qa\"\n  }, {\n    n: \"Réunion (La Réunion)\",\n    i: \"re\"\n  }, {\n    n: \"Romania (România)\",\n    i: \"ro\"\n  }, {\n    n: \"Russia (Россия)\",\n    i: \"ru\"\n  }, {\n    n: \"Rwanda\",\n    i: \"rw\"\n  }, {\n    n: \"Saint Barthélemy (Saint-Barthélemy)\",\n    i: \"bl\"\n  }, {\n    n: \"Saint Helena\",\n    i: \"sh\"\n  }, {\n    n: \"Saint Kitts and Nevis\",\n    i: \"kn\"\n  }, {\n    n: \"Saint Lucia\",\n    i: \"lc\"\n  }, {\n    n: \"Saint Martin (Saint-Martin (partie française))\",\n    i: \"mf\"\n  }, {\n    n: \"Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)\",\n    i: \"pm\"\n  }, {\n    n: \"Saint Vincent and the Grenadines\",\n    i: \"vc\"\n  }, {\n    n: \"Samoa\",\n    i: \"ws\"\n  }, {\n    n: \"San Marino\",\n    i: \"sm\"\n  }, {\n    n: \"São Tomé and Príncipe (São Tomé e Príncipe)\",\n    i: \"st\"\n  }, {\n    n: \"Saudi Arabia (‫المملكة العربية السعودية‬‎)\",\n    i: \"sa\"\n  }, {\n    n: \"Senegal (Sénégal)\",\n    i: \"sn\"\n  }, {\n    n: \"Serbia (Србија)\",\n    i: \"rs\"\n  }, {\n    n: \"Seychelles\",\n    i: \"sc\"\n  }, {\n    n: \"Sierra Leone\",\n    i: \"sl\"\n  }, {\n    n: \"Singapore\",\n    i: \"sg\"\n  }, {\n    n: \"Sint Maarten\",\n    i: \"sx\"\n  }, {\n    n: \"Slovakia (Slovensko)\",\n    i: \"sk\"\n  }, {\n    n: \"Slovenia (Slovenija)\",\n    i: \"si\"\n  }, {\n    n: \"Solomon Islands\",\n    i: \"sb\"\n  }, {\n    n: \"Somalia (Soomaaliya)\",\n    i: \"so\"\n  }, {\n    n: \"South Africa\",\n    i: \"za\"\n  }, {\n    n: \"South Georgia & South Sandwich Islands\",\n    i: \"gs\"\n  }, {\n    n: \"South Korea (대한민국)\",\n    i: \"kr\"\n  }, {\n    n: \"South Sudan (‫جنوب السودان‬‎)\",\n    i: \"ss\"\n  }, {\n    n: \"Spain (España)\",\n    i: \"es\"\n  }, {\n    n: \"Sri Lanka (ශ්‍රී ලංකාව)\",\n    i: \"lk\"\n  }, {\n    n: \"Sudan (‫السودان‬‎)\",\n    i: \"sd\"\n  }, {\n    n: \"Suriname\",\n    i: \"sr\"\n  }, {\n    n: \"Svalbard and Jan Mayen (Svalbard og Jan Mayen)\",\n    i: \"sj\"\n  }, {\n    n: \"Swaziland\",\n    i: \"sz\"\n  }, {\n    n: \"Sweden (Sverige)\",\n    i: \"se\"\n  }, {\n    n: \"Switzerland (Schweiz)\",\n    i: \"ch\"\n  }, {\n    n: \"Syria (‫سوريا‬‎)\",\n    i: \"sy\"\n  }, {\n    n: \"Taiwan (台灣)\",\n    i: \"tw\"\n  }, {\n    n: \"Tajikistan\",\n    i: \"tj\"\n  }, {\n    n: \"Tanzania\",\n    i: \"tz\"\n  }, {\n    n: \"Thailand (ไทย)\",\n    i: \"th\"\n  }, {\n    n: \"Timor-Leste\",\n    i: \"tl\"\n  }, {\n    n: \"Togo\",\n    i: \"tg\"\n  }, {\n    n: \"Tokelau\",\n    i: \"tk\"\n  }, {\n    n: \"Tonga\",\n    i: \"to\"\n  }, {\n    n: \"Trinidad and Tobago\",\n    i: \"tt\"\n  }, {\n    n: \"Tunisia (‫تونس‬‎)\",\n    i: \"tn\"\n  }, {\n    n: \"Turkey (Türkiye)\",\n    i: \"tr\"\n  }, {\n    n: \"Turkmenistan\",\n    i: \"tm\"\n  }, {\n    n: \"Turks and Caicos Islands\",\n    i: \"tc\"\n  }, {\n    n: \"Tuvalu\",\n    i: \"tv\"\n  }, {\n    n: \"Uganda\",\n    i: \"ug\"\n  }, {\n    n: \"Ukraine (Україна)\",\n    i: \"ua\"\n  }, {\n    n: \"United Arab Emirates (‫الإمارات العربية المتحدة‬‎)\",\n    i: \"ae\"\n  }, {\n    n: \"United Kingdom\",\n    i: \"gb\"\n  }, {\n    n: \"United States\",\n    i: \"us\"\n  }, {\n    n: \"U.S. Minor Outlying Islands\",\n    i: \"um\"\n  }, {\n    n: \"U.S. Virgin Islands\",\n    i: \"vi\"\n  }, {\n    n: \"Uruguay\",\n    i: \"uy\"\n  }, {\n    n: \"Uzbekistan (Oʻzbekiston)\",\n    i: \"uz\"\n  }, {\n    n: \"Vanuatu\",\n    i: \"vu\"\n  }, {\n    n: \"Vatican City (Città del Vaticano)\",\n    i: \"va\"\n  }, {\n    n: \"Venezuela\",\n    i: \"ve\"\n  }, {\n    n: \"Vietnam (Việt Nam)\",\n    i: \"vn\"\n  }, {\n    n: \"Wallis and Futuna\",\n    i: \"wf\"\n  }, {\n    n: \"Western Sahara (‫الصحراء الغربية‬‎)\",\n    i: \"eh\"\n  }, {\n    n: \"Yemen (‫اليمن‬‎)\",\n    i: \"ye\"\n  }, {\n    n: \"Zambia\",\n    i: \"zm\"\n  }, {\n    n: \"Zimbabwe\",\n    i: \"zw\"\n  }], function (i, c) {\n    c.name = c.n;\n    c.iso2 = c.i;\n    delete c.n;\n    delete c.i;\n  });\n});","map":null,"metadata":{},"sourceType":"script"}