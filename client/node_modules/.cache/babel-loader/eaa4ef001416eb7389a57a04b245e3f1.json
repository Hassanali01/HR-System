{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n      }\n    };\n    return _extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    _extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nimport * as React from 'react';\nimport { bezierCommand, controlPoint, line, svgPath } from './utils/svg-calc';\nimport { getColorFromHSV, getRGBA, getContrastFromTwoRGBAs } from './utils/color-parser';\nvar AA_CONTRAST = 4.5;\nvar AAA_CONTRAST = 7;\nvar STEP_COUNT = 16;\n;\n/**\n * @hidden\n */\nvar ColorContrastSvg = /** @class */function (_super) {\n  __extends(ColorContrastSvg, _super);\n  function ColorContrastSvg() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  ColorContrastSvg.prototype.renderSvgCurveLine = function () {\n    var _this = this;\n    var gradientRectMetrics = this.props.metrics;\n    var findValue = function findValue(contrast, saturation, low, high, comparer) {\n      var mid = (low + high) / 2;\n      var hsva = Object.assign({}, _this.props.hsva, {\n        s: saturation / gradientRectMetrics.width,\n        v: 1 - mid / gradientRectMetrics.height\n      });\n      var currentContrast = getContrastFromTwoRGBAs(getRGBA(getColorFromHSV(hsva)), getRGBA(_this.props.backgroundColor || ''));\n      if (low + 0.5 > high) {\n        if (currentContrast < contrast + 1 && currentContrast > contrast - 1) {\n          return mid;\n        } else {\n          return null;\n        }\n      }\n      if (comparer(currentContrast, contrast)) {\n        return findValue(contrast, saturation, low, high - (high - low) / 2, comparer);\n      }\n      return findValue(contrast, saturation, low + (high - low) / 2, high, comparer);\n    };\n    var getPaths = function getPaths(contrast, stepCount, reversed) {\n      if (reversed === void 0) {\n        reversed = false;\n      }\n      var points = [];\n      for (var i = 0; i <= gradientRectMetrics.width; i += gradientRectMetrics.width / stepCount) {\n        var value = findValue(contrast, i, 0, gradientRectMetrics.height, reversed ? function (a, b) {\n          return a < b;\n        } : function (a, b) {\n          return a > b;\n        });\n        if (value !== null) {\n          points.push([i, value]);\n        }\n      }\n      return points;\n    };\n    var bezierCommandCalc = bezierCommand(controlPoint(line));\n    return svgPath(getPaths(AA_CONTRAST, STEP_COUNT), bezierCommandCalc) + svgPath(getPaths(AA_CONTRAST, STEP_COUNT, true), bezierCommandCalc) + svgPath(getPaths(AAA_CONTRAST, STEP_COUNT), bezierCommandCalc) + svgPath(getPaths(AAA_CONTRAST, STEP_COUNT, true), bezierCommandCalc);\n  };\n  ColorContrastSvg.prototype.shouldComponentUpdate = function (nextProps) {\n    if (nextProps.hsva.h === this.props.hsva.h && nextProps.hsva.a === this.props.hsva.a && this.props.backgroundColor === nextProps.backgroundColor) {\n      return false;\n    }\n    return true;\n  };\n  ColorContrastSvg.prototype.render = function () {\n    return React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      className: 'k-color-contrast-svg',\n      dangerouslySetInnerHTML: {\n        __html: this.renderSvgCurveLine()\n      },\n      style: {\n        position: 'absolute',\n        overflow: 'visible',\n        pointerEvents: 'none',\n        left: 0,\n        top: 0,\n        zIndex: 3\n      }\n    });\n  };\n  return ColorContrastSvg;\n}(React.Component);\nexport { ColorContrastSvg };","map":null,"metadata":{},"sourceType":"module"}